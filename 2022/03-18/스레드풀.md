# 스레드 풀
- 스레드라는 것이 생성될때 컴퓨터 내부적으로 운영체제가 요청을 받아 들여 메모리 공간을 확보해주고 그 메모리를 스레드에게 할당해준다.
스레드는 동일한 메모리 영역에서 생성되고  관리되지만,생성/수거에 드는 비용을 무시 할 수 없다. 이래서 요청일 들어올 때 마다 스레드를 생성하고 일을 다하면 수거하고 하는 작업은 프로그램 퍼포먼스에 지대한 영향을 줄 수 있다.
따라서 스레드를 미리 만들어 놓은것

- Thread Pool(스레드 풀)의 동작 원리

사용자로부터 들어온 요청을 작업큐에 넣고 스레드 풀은 작업큐에 들어온 Task일감을 미리 생성해 놓은 Thread들에게 일감을 할당한다.
일을 다 처리한 Thread들은 다시 어플리케이션에 결과값을 리턴한다.

자바에서는 스레드풀을 생성하고 사용할 수 있도록 java.util.concurrent Package에서 ExecutorService 인터페이스와 Executors 클래스를 제공하고 있다. Executors의 다양한 정적 메서드를 통해 ExecutorService 구현객체를 만들어서 사용할 수 있으며, 그것이 바로 스레드 풀이다. 

## 스레드 풀을 왜 사용하나

1. 프로그램 성능 저하를 방지하기 위해서 : 매번 발생되는 작업을 병렬처리하기 위해 스레드를 생성/수거하는데 따른 부담은 프로그램 전체적인 퍼포먼스를 저하 시킨다. 그래서 스레드풀을 만들어 놓는다

2. 다수의 사용자 요청을 처리하기 위해서: 서비스적인 측면에서 다수의 사용자의 요청을 수용하고 빠르게 처리하고 대응하기 위해 스레드풀을 사용한다.

## 장점도 있지만 단점?

1. 스레드풀을 과도하게 만들어 놓으면 메모리 낭비가 발생한다 

2. 일하지 않는 스레드가 발생될 수 있다



## Thread Pool(스레드 풀)에게 작업시키기


execute();

 - 작업 처리 결과를 반환하지 않는다.

 - 작업 처리 도중 예외가 발생하면 스레드가 종료되고 해당 스레드는 스레드 풀에서 제거된다. 

 - 다른 작업을 처리하기 위해 새로운 스레드를 생성한다.



submit();

 - 작업 처리 결과를 반환한다.

 - 작업 처리 도중 예외가 발생하더라도 스레드는 종료되지 않고 다음 작업을 위해 재사용

 - 스레드의 생성 오버헤드를 방지하기 위해서라도 submit() 을 가급적 사용한다.


## 스레드의 우선 순위

        void setPriority(int newPriority) //쓰레드의 우선순위를 지정한 값으로 변경
        int getPriority() //쓰레드의 우선순위 반환

        //우선순위 지정 예시
        public static final int MAX_PRI = 10 //최대우선순위
        public static final int MIN_PRI = 1  //최소우선순위
        public static final int AVG_PRI = 5  //보통우선순위
        - 숫자가 높을수록 우선 순위가 높다.
        - main메서드를 수행하는 쓰레드는 우선순위가 5이므로 main메소드 내에서 생성하는 스레드의 우선순위는 자동적으로 5이다.


