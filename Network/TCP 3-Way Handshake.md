# TCP 3-Way Handshake μ •λ¦¬

## π“ κ°μ”
TCP(Transmission Control Protocol)λ” μ‹ λΆ°μ„± μλ” λ°μ΄ν„° μ „μ†΅μ„ μ„ν•΄ ν†µμ‹  μ‹μ‘ μ‹ **3-Way Handshake**λΌλ” μ—°κ²° μ„¤μ • μ μ°¨λ¥Ό κ±°μΉλ‹¤.  
μ΄ κ³Όμ •μ„ ν†µν•΄ μ–‘μ½ λ¨λ‘ μ—°κ²° μμ‚¬λ¥Ό ν™•μΈν•κ³ , μμ„ λ²νΈλ¥Ό λ™κΈ°ν™”ν•μ—¬ λ°μ΄ν„° μ†΅μμ‹  μ¤€λΉ„λ¥Ό ν•λ‹¤.

---

## π” 3-Way Handshake λ™μ‘ κ³Όμ •

1. **SYN (Synchronize) - ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„**
   - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²° μ”μ²­
   - TCP ν—¤λ”μ SYN ν”λκ·Έλ¥Ό `1`λ΅ μ„¤μ •
   - ν΄λΌμ΄μ–ΈνΈμ μ΄κΈ° μμ„ λ²νΈ (ISN: Initial Sequence Number) ν¬ν•¨
   - π’¬ μμ‹: "μ—°κ²°ν•κ³  μ‹¶μ–΄, λ‚΄ μ‹ν€€μ¤ λ„λ²„λ” 100μ΄μ•Ό."

2. **SYN-ACK - μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ**
   - μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ μλ½
   - SYN ν”λκ·Έμ™€ ACK ν”λκ·Έλ¥Ό λ¨λ‘ `1`λ΅ μ„¤μ •
   - μμ‹ μ ISNκ³Ό ν•¨κ» ν΄λΌμ΄μ–ΈνΈμ ISN+1μ„ ACKλ΅ μ „μ†΅
   - π’¬ μμ‹: "μΆ‹μ•„, μ—°κ²°ν•μ. λ‚΄ λ²νΈλ” 250μ΄κ³ , λ„¤ λ²νΈλ” 100 μ λ°›μ•μ–΄."

3. **ACK - ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„**
   - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ μ‘λ‹µμ„ ν™•μΈν•κ³  μµμΆ… ACK μ „μ†΅
   - ACK λ²νΈ = μ„λ²„μ ISN + 1
   - π’¬ μμ‹: "λ„¤ λ²νΈ 250 ν™•μΈν–μ–΄, μ΄μ  λ°μ΄ν„° μ£Όκ³ λ°›μ!"

---

## π“ μ™ 3λ²μ΄λ‚ μ£Όκ³ λ°›μ„κΉ? (κΈ°μ¤€ ν•μ„±)

- **μ‹ λΆ°μ„± ν™•λ³΄**: μ†΅μ‹ /μμ‹  λ¨λ‘ μ—°κ²° μμ‚¬λ¥Ό κ°–κ³  μλ”μ§€ ν™•μΈ
- **μ‹ν€€μ¤ λ²νΈ λ™κΈ°ν™”**: TCPλ” μμ„ λ³΄μ¥μ΄ μ¤‘μ”ν• ν”„λ΅ν† μ½
- **μλ°© ν™•μΈ**: λ‹¨λ°©ν–¥μ΄ μ•„λ‹ μ–‘λ°©ν–¥ μ—°κ²° λ³΄μ¥μ΄ ν•„μ”

---

## β οΈ λ³΄μ• λ° κµ¬μ΅°μ  λ¦¬μ¤ν¬

- **SYN Flood κ³µκ²©**
  - ν΄λΌμ΄μ–ΈνΈκ°€ ACK μ—†μ΄ SYNλ§ λ³΄λ‚΄κ³  λμ–΄λ²„λ¦¬λ©΄?
  - μ„λ²„λ” μ—°κ²° λ€κΈ° μƒνƒ(Half-Open)λ΅ λ¦¬μ†μ¤λ¥Ό λ‚­λΉ„ν•κ² λ¨

---

## π”­ μ‹μ•Ό ν™•μ¥ ν¬μΈνΈ

- **TCP μ—°κ²° μΆ…λ£λ” μ™ 4λ²(4-way handshake)μΌκΉ?**
- **UDPλ” Handshakeκ°€ μ—†λ”λ°, μ–Έμ  μ‚¬μ©ν•λ” κ² μ μ ν• κΉ?**
- **TLS Handshakeλ” TCP Handshake μ΄ν›„μ— μ™ μ¶”κ°€λ΅ ν•„μ”ν•κ°€?**
- **μ»¤λ„μ—μ„ SYN queueμ™€ accept queueλ” μ–΄λ–»κ² λ‹¤λ¥ΌκΉ?**

---

## π“ μ”μ•½

| λ‹¨κ³„ | μ†΅μ‹ μ    | ν”λκ·Έ      | μ„¤λ…                                  |
|------|-----------|-------------|---------------------------------------|
| 1    | ν΄λΌμ΄μ–ΈνΈ | SYN         | μ—°κ²° μ”μ²­ λ° μ‹ν€€μ¤ λ„λ²„ μ „λ‹¬         |
| 2    | μ„λ²„       | SYN + ACK   | μ”μ²­ μλ½, μ„λ²„ ISN μ „λ‹¬, ν΄λΌμ΄μ–ΈνΈ ISN ν™•μΈ |
| 3    | ν΄λΌμ΄μ–ΈνΈ | ACK         | μ„λ²„ ISN ν™•μΈ ν›„ μµμΆ… μ‘λ‹µ           |

---

