# 쿠키와 세션의 차이점 (백엔드 관점)

HTTP는 본래 **무상태(Stateless)** 프로토콜이므로, 사용자의 로그인 상태나 장바구니 정보 등 **사용자 상태를 유지하기 위한 방법**이 필요하다.  
이 목적을 위해 **쿠키(Cookie)** 와 **세션(Session)** 이 사용된다.  
두 방식은 구조, 책임 주체, 보안성 등에서 중요한 차이가 있다.

---

## 📌 1. 저장 위치

| 항목 | 쿠키 | 세션 |
|------|------|------|
| 저장 위치 | 클라이언트(브라우저) | 서버 |
| 전달 방식 | 요청마다 자동으로 HTTP 헤더에 포함 | 클라이언트에 전달된 세션 ID를 통해 서버에서 조회 |

---

## 🔐 2. 보안성

| 항목 | 쿠키 | 세션 |
|------|------|------|
| 신뢰 주체 | 클라이언트 | 서버 |
| 데이터 위조 가능성 | 높음 (사용자 수정 가능) | 낮음 (서버 내부 관리) |
| 저장 권장 정보 | 비민감 정보 (선호 설정 등) | 민감 정보 (로그인 상태, 사용자 ID 등) |
| 보안 설정 | `HttpOnly`, `Secure`, `SameSite` 옵션 필수 | 서버 단에서 관리, 별도 보안 정책 적용 가능 |

---

## 📦 3. 용량 제한

| 항목 | 쿠키 | 세션 |
|------|------|------|
| 저장 용량 | 도메인당 약 4KB | 서버 메모리 기반 (상대적으로 크다) |

---

## ⏳ 4. 수명 관리

| 항목 | 쿠키 | 세션 |
|------|------|------|
| 수명 | 명시적 만료 설정 가능 (`Max-Age`, `Expires`) | 일정 시간 동안 요청 없으면 만료 (`Session Timeout`) |
| 브라우저 종료 시 | 설정에 따라 유지 or 삭제 | 대부분 삭제됨 (설정에 따라 변경 가능) |

---

## ⚙️ 5. 성능 영향

| 항목 | 쿠키 | 세션 |
|------|------|------|
| 네트워크 트래픽 | 요청마다 쿠키 전체 전송 → 트래픽 증가 | 세션 ID만 전달 |
| 서버 자원 | 클라이언트가 관리 → 서버 부담 적음 | 서버 메모리 사용 → 사용자 많아질수록 부담 증가 |

---

## ✅ 사용 예시

| 상황 | 쿠키 | 세션 |
|------|------|------|
| 로그인하지 않은 사용자 장바구니 | ✅ 가능 | ❌ 브라우저 닫으면 정보 소실 가능 |
| 로그인 상태 유지 | ❌ 비추천 (보안 취약) | ✅ 추천 (서버 관
