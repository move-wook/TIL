# π” HTTPSλ€? (Hypertext Transfer Protocol Secure)

## β… HTTP vs HTTPS

| ν•­λ© | HTTP | HTTPS |
|------|------|-------|
| λ°μ΄ν„° μ „μ†΅ | **ν‰λ¬Έ(Plain Text)** | **μ•”νΈν™”λ λ°μ΄ν„°** |
| λ³΄μ•μ„± | μ—†μ (λ„μ²­Β·μ„μ΅° μ„ν—) | SSL/TLSλ΅ μ•”νΈν™” |
| ν¬νΈ | 80 | 443 |
| URL μ¤ν‚΄ | `http://` | `https://` |

---

## π” HTTPSμ ν•„μ”μ„±

- HTTPλ” λ°μ΄ν„°λ¥Ό **μ•”νΈν™”ν•μ§€ μ•κΈ° λ•λ¬Έμ—** μ¤‘κ°„μ(MITM) κ³µκ²©, λ„μ²­, λ°μ΄ν„° λ³€μ΅°μ— μ·¨μ•½
- HTTPSλ” **SSL/TLS ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•μ—¬ μ•”νΈν™” κ³„μΈµμ„ μ¶”κ°€ν•¨**

---

## π€ HTTPS μ μ© λ°©λ²•

1. **μΈμ¦μ„ λ°κΈ‰**
   - μΈμ¦ κΈ°κ΄€(CA, Certificate Authority)μ—μ„ **μ„λ²„ μΈμ¦μ„** λ°κΈ‰
   - Letβ€™s Encrypt (λ¬΄λ£), DigiCert, GlobalSign λ“± μ‚¬μ© κ°€λ¥

2. **μ„λ²„ μ„¤μ •**
   - μ›Ή μ„λ²„ (Nginx, Apache λ“±)μ— λ°κΈ‰λ°›μ€ μΈμ¦μ„ λ° κ°μΈ ν‚¤ μ„¤μ •
   - μ: `ssl_certificate`, `ssl_certificate_key` λ””λ ‰ν‹°λΈ μ„¤μ •

3. **ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ‹ HTTPSλ΅ λ¦¬λ””λ ‰μ…**
   - HTTP μ”μ²­μ„ HTTPSλ΅ λ¦¬λ””λ ‰μ… μ²λ¦¬ (301)

---

## π”‘ HTTPS λ™μ‘ μ›λ¦¬ (TLS ν•Έλ“μ…°μ΄ν¬ μ¤‘μ‹¬)

### 1. Client Hello
- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ•„λ μ •λ³΄ μ „λ‹¬:
  - TLS λ²„μ „
  - μ•”νΈν™” λ°©μ‹ λ©λ΅
  - ν΄λΌμ΄μ–ΈνΈ λλ¤κ°’ (Client Random)

### 2. Server Hello
- μ„λ²„κ°€ μ•„λ μ •λ³΄λ΅ μ‘λ‹µ:
  - TLS λ²„μ „, μ•”νΈν™” λ°©μ‹ μ„ νƒ
  - μ„λ²„ μΈμ¦μ„ (κ³µκ°ν‚¤ ν¬ν•¨)
  - μ„λ²„ λλ¤κ°’ (Server Random)

### 3. μΈμ¦μ„ κ²€μ¦
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„ μΈμ¦μ„λ¥Ό **CAμ κ³µκ°ν‚¤**λ΅ λ³µνΈν™”ν•μ—¬ μ‹ λΆ°μ„± κ²€μ¦

### 4. Pre-Master Secret μ „μ†΅
- ν΄λΌμ΄μ–ΈνΈλ”:
  - `Pre-Master Secret` μƒμ„±
  - μ„λ²„μ **κ³µκ°ν‚¤λ΅ μ•”νΈν™”**ν•μ—¬ μ „μ†΅

- μ„λ²„λ”:
  - μμ‹ μ **κ°μΈν‚¤λ΅ λ³µνΈν™”**ν•μ—¬ Pre-Master Secret ν™•λ³΄

### 5. μ„Έμ… ν‚¤ μƒμ„±
- μ–‘μ½μ€ μ•„λ 3κ°λ¥Ό κΈ°λ°μΌλ΅ **Master Secret** μƒμ„±:
  - Client Random
  - Server Random
  - Pre-Master Secret

- μ΄ν›„ Master SecretμΌλ΅λ¶€ν„° **μ„Έμ… ν‚¤(Session Key)** νμƒ

---

## π” μ΄ν›„ ν†µμ‹  λ°©μ‹: λ€μΉ­ν‚¤ μ•”νΈν™”

- μ΄κΈ° ν•Έλ“μ…°μ΄ν¬λ§ κ³µκ°ν‚¤ κΈ°λ° μ•”νΈν™” (λΉ„λ€μΉ­ μ•”νΈν™”)
- μ΄ν›„ λ°μ΄ν„° μ „μ†΅μ€ λΉ λ¥Έ μ„±λ¥μ **λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹**μΌλ΅ μ²λ¦¬λ¨

---

## π§  λ°±μ—”λ“ κ΄€μ μ μ‹μ•Ό μ „μ΄

| λ€μƒ | κ³ λ ¤ μ”μ† |
|------|------------|
| WAS | HTTPS μ§μ ‘ μ§€μ› κ°€λ¥ (Tomcat λ“±), μΌλ°μ μΌλ΅λ” λ¦¬λ²„μ¤ ν”„λ΅μ‹ λ’¤μ—μ„ λ™μ‘ |
| μ›Ή μ„λ²„ | Nginxμ—μ„ μΈμ¦μ„ μ„¤μ • λ° HTTPS ν•Έλ“¤λ§ β†’ WASλ” HTTPλ΅ μ—°κ²° |
| λ³΄μ• ν…μ¤νΈ | HSTS, TLS 1.3 μ§€μ›, μΈμ¦μ„ μλ™ κ°±μ‹ (Let's Encrypt + Certbot) ν™•μΈ ν•„μ” |
| DevOps | HTTPS μ μ© ν›„ `health check`, `redirect`, `SSL cert renewal` μλ™ν™” μ²΄ν¬ |

---

## π“ μ¶”κ°€ ν•™μµ μλ£

- [Let's Encrypt κ³µμ‹ ν™νμ΄μ§€](https://letsencrypt.org/)
- [SSL Labs - SSL Test](https://www.ssllabs.com/ssltest/)
- [Mozilla TLS κ°€μ΄λ“λΌμΈ](https://infosec.mozilla.org/guidelines/web_security#https-and-tls)

